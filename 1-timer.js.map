{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = document.querySelector(\"#datetime-picker\");\nconst startBtn = document.querySelector(\"button\");\n\nconst timerDays = document.querySelector(\".value[data-days]\");\nconst timerHours = document.querySelector(\".value[data-hours]\");\nconst timerMins = document.querySelector(\".value[data-minutes]\");\nconst timerSecs = document.querySelector(\".value[data-seconds]\");\n\nstartBtn.addEventListener(\"click\", handleStart);\nstartBtn.disabled = true;\n\nlet userSelectedDate = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n\n        startBtn.disabled = false;\n        userSelectedDate = selectedDates[0];\n\n        if (options.defaultDate >= userSelectedDate) {\n            iziToast.show({\n                title: \"Hey!\",\n                message: \"Please choose a date in the future\",\n                backgroundColor: \"#EF4040\",\n                messageColor: \"#FFFFFF\",\n                titleColor: \"#FFFFFF\",\n                titleSize: \"16px\",\n                closeOnClick: true,\n                position: \"topRight\",\n            });\n\n            startBtn.disabled = true;\n            return;\n        } \n    },\n};\n\nflatpickr(\"#datetime-picker\", options);\nconst addLeadingZero = value => value.toString().padStart(2, \"0\");\n\nfunction handleStart() {\n    startBtn.disabled = true;\n    input.disabled = true;\n\n    const ticker = setInterval(() => {\n        const { days, hours, minutes, seconds } = convertMs(userSelectedDate - Date.now());\n\n        timerDays.textContent = addLeadingZero(days);\n        timerHours.textContent = addLeadingZero(hours);\n        timerMins.textContent = addLeadingZero(minutes);\n        timerSecs.textContent = addLeadingZero(seconds);\n\n        const arr = [days, hours, minutes, seconds];\n        const arrCleared = arr.every(item => item === 0);\n\n        if (arrCleared) {\n            clearInterval(ticker);\n            input.disabled = false;\n        }\n        \n    }, 1000)\n};\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n"],"names":["input","startBtn","timerDays","timerHours","timerMins","timerSecs","handleStart","userSelectedDate","options","selectedDates","iziToast","flatpickr","addLeadingZero","value","ticker","days","hours","minutes","seconds","convertMs","item","ms"],"mappings":"+IAMA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,QAAQ,EAE1CC,EAAY,SAAS,cAAc,mBAAmB,EACtDC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAY,SAAS,cAAc,sBAAsB,EAE/DJ,EAAS,iBAAiB,QAASK,CAAW,EAC9CL,EAAS,SAAW,GAEpB,IAAIM,EAAmB,KAEvB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CAKnB,GAHAR,EAAS,SAAW,GACpBM,EAAmBE,EAAc,CAAC,EAE9BD,EAAQ,aAAeD,EAAkB,CACzCG,EAAS,KAAK,CACV,MAAO,OACP,QAAS,qCACT,gBAAiB,UACjB,aAAc,UACd,WAAY,UACZ,UAAW,OACX,aAAc,GACd,SAAU,UAC1B,CAAa,EAEDT,EAAS,SAAW,GACpB,MACH,CACJ,CACL,EAEAU,EAAU,mBAAoBH,CAAO,EACrC,MAAMI,EAAiBC,GAASA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EAEhE,SAASP,GAAc,CACnBL,EAAS,SAAW,GACpBD,EAAM,SAAW,GAEjB,MAAMc,EAAS,YAAY,IAAM,CAC7B,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAKC,EAAUZ,EAAmB,KAAK,IAAG,CAAE,EAEjFL,EAAU,YAAcU,EAAeG,CAAI,EAC3CZ,EAAW,YAAcS,EAAeI,CAAK,EAC7CZ,EAAU,YAAcQ,EAAeK,CAAO,EAC9CZ,EAAU,YAAcO,EAAeM,CAAO,EAElC,CAACH,EAAMC,EAAOC,EAASC,CAAO,EACnB,MAAME,GAAQA,IAAS,CAAC,IAG3C,cAAcN,CAAM,EACpBd,EAAM,SAAW,GAGxB,EAAE,GAAI,CACX,CAEA,SAASmB,EAAUE,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EAEpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EAEjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}